/*****************************************************************************************************//**
*
* @file		tecladofijo_infotronic.c
* @brief	MÃ³dulo para manejo del teclado fijo.
*
* @version	1.00
* @date		XX/XX/XXXX
* @author	Agustin G. Gimeno (AGG)
*
*
*********************************************************************************************************
*** REVISION HISTORY
*
********************************************************************************************************/

/********************************************************************************************************
*** INCLUDES
********************************************************************************************************/
#include "gpio.h"
#include "My_Types.h"
#include "tecladofijo_infotronic.h"

/********************************************************************************************************
*** PRIVATE DEFINES
********************************************************************************************************/
#define SW10_HW_PORT PORT_2
#define SW10_HW_PIN  PIN_13
#define SW13_HW_PORT PORT_1
#define SW13_HW_PIN	 PIN_26

/********************************************************************************************************
*** PRIVATE MACROS
********************************************************************************************************/


/********************************************************************************************************
*** PRIVATE DATA TYPES
********************************************************************************************************/


/********************************************************************************************************
*** PRIVATE TABLES
********************************************************************************************************/


/********************************************************************************************************
*** PUBLIC GLOBAL VARIABLES
********************************************************************************************************/


/********************************************************************************************************
*** PRIVATE GLOBAL VARIABLES
********************************************************************************************************/


/********************************************************************************************************
*** PRIVATE FUNCTION PROTOTYPES
********************************************************************************************************/


/********************************************************************************************************
*** CONFIGURATION ERRORS
********************************************************************************************************/


/*-----------------------------------------------------------------------------------------------------*/


/********************************************************************************************************
*** PUBLIC FUNCTIONS
********************************************************************************************************/
/***************************************************************************//**
 * @fn			TECLADOFIJO_INFOTRONIC_Inicializar()
 * @brief		Inicializa los pines del teclado fijo 5x1.
 *
 * @param[in]	None
 *
 * @return 		void
 ******************************************************************************/
void TECLADOFIJO_INFOTRONIC_Inicializar()
{
	GPIO_InitPinAsGPIO(SW10_HW_PORT, SW10_HW_PIN, DIR_IN, RES_NONE, NOT_OPEN_DRAIN);
	GPIO_InitPinAsGPIO(SW13_HW_PORT, SW13_HW_PIN, DIR_IN, RES_NONE, NOT_OPEN_DRAIN);
}

/***************************************************************************//**
 * @fn			TECLADOFIJO_INFOTRONIC_LeerTecla()
 * @brief		Devuelve el estado de la tecla pasada como argumento
 * 				Importante: NO IMPLEMENTA ANTIREBOTE.
 *
 * @param[in]	TECLAS: recibe la tecla segun la nomenclatura en el kit.
 *
 * @return 		devuelve true si la tecla esta precionada
 ******************************************************************************/
bool_t TECLADOFIJO_INFOTRONIC_LeerTecla(TECLAS tecla)
{
	bool_t retval = FALSE;

	switch(tecla)
	{
		case SW13:
			retval = GPIO_GETpINsTATE(SW13_HW_PORT, SW13_HW_PIN, ACTIVE_LOW);
			break;
		case SW10:
			retval = GPIO_GETpINsTATE(SW10_HW_PORT, SW10_HW_PIN, ACTIVE_LOW);
			break;
		default:
			break;
	}

	return retval;
}
/********************************************************************************************************
*** PRIVATE FUNCTIONS
********************************************************************************************************/


/*-----------------------------------------------------------------------------------------------------*/
